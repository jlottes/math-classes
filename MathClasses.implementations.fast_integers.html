<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>MathClasses.implementations.fast_integers</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library MathClasses.implementations.fast_integers</h1>

<div class="code">
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Numbers.Integer.BigZ.BigZ.html#"><span class="id" type="library">BigZ</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MathClasses.interfaces.abstract_algebra.html#"><span class="id" type="library">interfaces.abstract_algebra</span></a> <a class="idref" href="MathClasses.interfaces.integers.html#"><span class="id" type="library">interfaces.integers</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MathClasses.interfaces.additional_operations.html#"><span class="id" type="library">interfaces.additional_operations</span></a> <a class="idref" href="MathClasses.implementations.fast_naturals.html#"><span class="id" type="library">fast_naturals</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MathClasses.theory.setoids.html#"><span class="id" type="library">theory.setoids</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span><br/>
&nbsp;&nbsp;<a class="idref" href="MathClasses.implementations.ZType_integers.html#"><span class="id" type="library">ZType_integers</span></a>.<br/>

<br/>
<span class="id" type="keyword">Module</span> <a name="BigZ_Integers"><span class="id" type="module">BigZ_Integers</span></a> := <a class="idref" href="MathClasses.implementations.ZType_integers.html#"><span class="id" type="module">ZType_Integers</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Numbers.Integer.BigZ.BigZ.html#"><span class="id" type="module">BigZ</span></a>.<br/>

<br/>
<span class="id" type="keyword">Hint Extern</span> 10 (@<a class="idref" href="MathClasses.interfaces.canonical_names.html#Subset"><span class="id" type="class">Subset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Numbers.Integer.BigZ.BigZ.html#bigZ"><span class="id" type="abbreviation">bigZ</span></a>) ⇒ <span class="id" type="tactic">eexact</span> (<a class="idref" href="MathClasses.interfaces.canonical_names.html#every"><span class="id" type="definition">every</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Numbers.Integer.BigZ.BigZ.html#bigZ"><span class="id" type="abbreviation">bigZ</span></a>) : <span class="id" type="var">typeclass_instances</span>.<br/>

<br/>
<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Notation</span> <a name="bigN"><span class="id" type="abbreviation">bigN</span></a> := (<a class="idref" href="MathClasses.interfaces.canonical_names.html#every"><span class="id" type="definition">every</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Numbers.Natural.BigN.BigN.html#bigN"><span class="id" type="abbreviation">bigN</span></a>).<br/>
<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Notation</span> <a name="bigZ"><span class="id" type="abbreviation">bigZ</span></a> := (<a class="idref" href="MathClasses.interfaces.canonical_names.html#every"><span class="id" type="definition">every</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Numbers.Integer.BigZ.BigZ.html#bigZ"><span class="id" type="abbreviation">bigZ</span></a>).<br/>

<br/>
<span class="id" type="keyword">Instance</span> <a name="inject_fastN_fastZ"><span class="id" type="instance">inject_fastN_fastZ</span></a>: <a class="idref" href="MathClasses.interfaces.canonical_names.html#Cast"><span class="id" type="class">Cast</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#bigN"><span class="id" type="abbreviation">bigN</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#bigZ"><span class="id" type="abbreviation">bigZ</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Numbers.Integer.BigZ.BigZ.html#BigZ.Pos"><span class="id" type="constructor">BigZ.Pos</span></a>.<br/>

<br/>
<span class="id" type="keyword">Instance</span>: <a class="idref" href="MathClasses.interfaces.abstract_algebra.html#SemiRing_Morphism"><span class="id" type="class">SemiRing_Morphism</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#bigN"><span class="id" type="abbreviation">bigN</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#bigZ"><span class="id" type="abbreviation">bigZ</span></a> <a class="idref" href="MathClasses.interfaces.canonical_names.html#:mc_scope:'('')'"><span class="id" type="notation">(')</span></a>.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">repeat</span> (<span class="id" type="tactic">split</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">apply</span> <span class="id" type="var">_</span>); <span class="id" type="var">unfold_sigs</span>; <span class="id" type="tactic">intuition</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Instance</span> <a name="bigZ_pow"><span class="id" type="instance">bigZ_pow</span></a>: <a class="idref" href="MathClasses.interfaces.additional_operations.html#Pow"><span class="id" type="class">Pow</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Numbers.Integer.BigZ.BigZ.html#BigZ.t"><span class="id" type="definition">BigZ.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Numbers.Integer.BigZ.BigZ.html#BigZ.t"><span class="id" type="definition">BigZ.t</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Numbers.Integer.BigZ.BigZ.html#BigZ.pow"><span class="id" type="definition">BigZ.pow</span></a>.<br/>

<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="MathClasses.misc.quote.html#"><span class="id" type="library">misc.quote</span></a>.<br/>

<br/>
<span class="id" type="keyword">Instance</span>: <a class="idref" href="MathClasses.interfaces.additional_operations.html#NatPowSpec"><span class="id" type="class">NatPowSpec</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#bigZ"><span class="id" type="abbreviation">bigZ</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#bigZ"><span class="id" type="abbreviation">bigZ⁺</span></a> <span class="id" type="var">_</span>.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">split</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="MathClasses.interfaces.additional_operations.html#pow"><span class="id" type="definition">pow</span></a>, <a class="idref" href="MathClasses.implementations.fast_integers.html#bigZ_pow"><span class="id" type="instance">bigZ_pow</span></a>.<br/>
+ <span class="id" type="tactic">apply</span> <a class="idref" href="MathClasses.theory.setoids.html#binary_morphism_proper_back"><span class="id" type="lemma">binary_morphism_proper_back</span></a>. <span class="id" type="tactic">intros</span> ?? [<span class="id" type="var">_</span> <span class="id" type="var">E1</span>] <span class="id" type="var">n</span> <span class="id" type="var">m</span> [<span class="id" type="var">_</span> <span class="id" type="var">E2</span>]. <span class="id" type="var">red_sig</span>. <span class="id" type="var">now</span> <span class="id" type="tactic">rewrite</span> <span class="id" type="var">E1</span>, <span class="id" type="var">E2</span>.<br/>
+ <span class="id" type="tactic">intros</span> <span class="id" type="var">x</span> <span class="id" type="var">_</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Numbers.Integer.BigZ.BigZ.html#BigZ.pow_0_r"><span class="id" type="lemma">BigZ.pow_0_r</span></a>.<br/>
+ <span class="id" type="tactic">intros</span> <span class="id" type="var">x</span> <span class="id" type="var">_</span> <span class="id" type="var">n</span> ?. <span class="id" type="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Numbers.Integer.BigZ.BigZ.html#BigZ.add_1_l"><span class="id" type="lemma">BigZ.add_1_l</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Numbers.Integer.BigZ.BigZ.html#BigZ.pow_succ_r"><span class="id" type="lemma">BigZ.pow_succ_r</span></a>. <span class="id" type="var">now</span> <span class="id" type="tactic">destruct</span> (<span class="id" type="var">_</span> : <span class="id" type="var">n</span> <a class="idref" href="MathClasses.interfaces.canonical_names.html#:mc_scope:x_'∊'_x"><span class="id" type="notation">∊</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#bigZ"><span class="id" type="abbreviation">bigZ⁺</span></a>).<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Instance</span> <a name="bigZ_powN"><span class="id" type="instance">bigZ_powN</span></a>: <a class="idref" href="MathClasses.interfaces.additional_operations.html#Pow"><span class="id" type="class">Pow</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Numbers.Integer.BigZ.BigZ.html#BigZ.t"><span class="id" type="definition">BigZ.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Numbers.Natural.BigN.BigN.html#BigN.t"><span class="id" type="definition">BigN.t</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">x</span> <span class="id" type="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="MathClasses.interfaces.additional_operations.html#::x_'^'_x"><span class="id" type="notation">^</span></a> <a class="idref" href="MathClasses.interfaces.additional_operations.html#::x_'^'_x"><span class="id" type="notation">(</span></a><a class="idref" href="MathClasses.interfaces.canonical_names.html#:mc_scope:''''_x"><span class="id" type="notation">'</span></a><a class="idref" href="MathClasses.implementations.fast_integers.html#n"><span class="id" type="variable">n</span></a><a class="idref" href="MathClasses.interfaces.additional_operations.html#::x_'^'_x"><span class="id" type="notation">)</span></a>.<br/>

<br/>
<span class="id" type="keyword">Instance</span>: <a class="idref" href="MathClasses.interfaces.additional_operations.html#NatPowSpec"><span class="id" type="class">NatPowSpec</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#bigZ"><span class="id" type="abbreviation">bigZ</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#bigN"><span class="id" type="abbreviation">bigN</span></a> <span class="id" type="var">_</span>.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">pose</span> <span class="id" type="var">proof</span> <a class="idref" href="MathClasses.orders.nat_int.html#to_semiring_nonneg_mor"><span class="id" type="lemma">nat_int.to_semiring_nonneg_mor</span></a> : <a class="idref" href="MathClasses.interfaces.abstract_algebra.html#SemiRing_Morphism"><span class="id" type="class">SemiRing_Morphism</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#bigN"><span class="id" type="abbreviation">bigN</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#bigZ"><span class="id" type="abbreviation">bigZ⁺</span></a> <a class="idref" href="MathClasses.interfaces.canonical_names.html#:mc_scope:'('')'"><span class="id" type="notation">(')</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="MathClasses.interfaces.additional_operations.html#pow"><span class="id" type="definition">pow</span></a>, <a class="idref" href="MathClasses.implementations.fast_integers.html#bigZ_powN"><span class="id" type="instance">bigZ_powN</span></a>.<br/>
+ <span class="id" type="tactic">apply</span> <a class="idref" href="MathClasses.theory.setoids.html#binary_morphism_proper_back"><span class="id" type="lemma">binary_morphism_proper_back</span></a>. <span class="id" type="tactic">intros</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> [<span class="id" type="var">_</span> <span class="id" type="var">E</span>] <span class="id" type="var">m</span> <span class="id" type="var">n</span> <span class="id" type="var">E2</span>. <span class="id" type="var">red_sig</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">E</span>. <span class="id" type="var">now</span> <span class="id" type="tactic">rewrite</span> (<a class="idref" href="MathClasses.implementations.fast_integers.html#bigN"><span class="id" type="abbreviation">bigN</span></a> <a class="idref" href="MathClasses.theory.subset.html#::x_'$'_x"><span class="id" type="notation">$</span></a> <span class="id" type="var">E2</span>).<br/>
+ <span class="id" type="tactic">exact</span> (<a class="idref" href="MathClasses.interfaces.additional_operations.html#nat_pow_0"><span class="id" type="method">nat_pow_0</span></a> (<span class="id" type="var">N</span>:=<a class="idref" href="MathClasses.implementations.fast_integers.html#bigZ"><span class="id" type="abbreviation">bigZ⁺</span></a>)).<br/>
+ <span class="id" type="tactic">intros</span> <span class="id" type="var">x</span> <span class="id" type="var">_</span> <span class="id" type="var">n</span> <span class="id" type="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">replace</span> (<a class="idref" href="MathClasses.interfaces.canonical_names.html#cast"><span class="id" type="definition">cast</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#bigN"><span class="id" type="abbreviation">bigN</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#bigZ"><span class="id" type="abbreviation">bigZ</span></a> (1<a class="idref" href="MathClasses.interfaces.canonical_names.html#:mc_scope:x_'+'_x"><span class="id" type="notation">+</span></a><span class="id" type="var">n</span>)) <span class="id" type="keyword">with</span> (1 <a class="idref" href="MathClasses.interfaces.canonical_names.html#:mc_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="MathClasses.interfaces.canonical_names.html#:mc_scope:x_'+'_x"><span class="id" type="notation">(</span></a><a class="idref" href="MathClasses.interfaces.canonical_names.html#cast"><span class="id" type="definition">cast</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#bigN"><span class="id" type="abbreviation">bigN</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#bigZ"><span class="id" type="abbreviation">bigZ</span></a> <span class="id" type="var">n</span><a class="idref" href="MathClasses.interfaces.canonical_names.html#:mc_scope:x_'+'_x"><span class="id" type="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">by</span> <span class="id" type="var">now</span> <span class="id" type="var">preserves_simplify</span> (<a class="idref" href="MathClasses.interfaces.canonical_names.html#cast"><span class="id" type="definition">cast</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#bigN"><span class="id" type="abbreviation">bigN</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#bigZ"><span class="id" type="abbreviation">bigZ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="MathClasses.interfaces.additional_operations.html#nat_pow_S"><span class="id" type="method">nat_pow_S</span></a> (<span class="id" type="var">N</span>:=<a class="idref" href="MathClasses.implementations.fast_integers.html#bigZ"><span class="id" type="abbreviation">bigZ⁺</span></a>) <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Instance</span> <a name="fastZ_shiftl"><span class="id" type="instance">fastZ_shiftl</span></a>: <a class="idref" href="MathClasses.interfaces.additional_operations.html#ShiftL"><span class="id" type="class">ShiftL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Numbers.Integer.BigZ.BigZ.html#BigZ.t"><span class="id" type="definition">BigZ.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Numbers.Natural.BigN.BigN.html#BigN.t"><span class="id" type="definition">BigN.t</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">λ</span></a> <span class="id" type="var">x</span> <span class="id" type="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Unicode.Utf8_core.html#::'λ'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Numbers.Integer.BigZ.BigZ.html#BigZ.shiftl"><span class="id" type="definition">BigZ.shiftl</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="MathClasses.interfaces.canonical_names.html#cast"><span class="id" type="definition">cast</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#bigN"><span class="id" type="abbreviation">bigN</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#bigZ"><span class="id" type="abbreviation">bigZ</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#n"><span class="id" type="variable">n</span></a>).<br/>

<br/>
<span class="id" type="keyword">Instance</span>: <a class="idref" href="MathClasses.interfaces.additional_operations.html#ShiftLSpec"><span class="id" type="class">ShiftLSpec</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#bigZ"><span class="id" type="abbreviation">bigZ</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#bigN"><span class="id" type="abbreviation">bigN</span></a> <span class="id" type="var">_</span>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="MathClasses.theory.shiftl.html#shiftl_spec_from_nat_pow"><span class="id" type="lemma">shiftl.shiftl_spec_from_nat_pow</span></a>. <span class="id" type="tactic">intros</span> ? <span class="id" type="var">_</span> ? <span class="id" type="var">_</span>; <span class="id" type="tactic">exact</span> <span class="id" type="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">rewrite</span> (<a class="idref" href="MathClasses.interfaces.common_props.html#commutativity"><span class="id" type="definition">commutativity</span></a> <a class="idref" href="MathClasses.interfaces.canonical_names.html#:mc_scope:'(.*.)'"><span class="id" type="notation">(.*.)</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span>). <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Numbers.Integer.BigZ.BigZ.html#BigZ.shiftl_mul_pow2"><span class="id" type="lemma">BigZ.shiftl_mul_pow2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">change</span> (0 <a class="idref" href="MathClasses.interfaces.canonical_names.html#:mc_scope:x_'≤'_x"><span class="id" type="notation">≤</span></a> <a class="idref" href="MathClasses.interfaces.canonical_names.html#cast"><span class="id" type="definition">cast</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#bigN"><span class="id" type="abbreviation">bigN</span></a> <a class="idref" href="MathClasses.implementations.fast_integers.html#bigZ"><span class="id" type="abbreviation">bigZ</span></a> <span class="id" type="var">n</span>).<br/>
&nbsp;&nbsp;<span class="id" type="var">now</span> <span class="id" type="tactic">apply</span> <a class="idref" href="MathClasses.orders.nat_int.html#to_semiring_nonneg"><span class="id" type="instance">nat_int.to_semiring_nonneg</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>